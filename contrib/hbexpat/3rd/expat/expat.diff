diff --strip-trailing-cr -urN expat.orig/xmlparse.c expat/xmlparse.c
--- expat.orig/xmlparse.c	2017-06-17 16:07:38.000000000 +0000
+++ expat/xmlparse.c	2017-06-25 17:09:30.000000000 +0000
@@ -23,7 +23,9 @@
 
 #define XML_BUILDING_EXPAT 1
 
-#ifdef _WIN32
+#ifdef HARBOUR_CONF
+#include "_hbconf.h"
+#elif defined(_WIN32)
 #include "winconfig.h"
 #elif defined(HAVE_EXPAT_CONFIG_H)
 #include <expat_config.h>
diff --strip-trailing-cr -urN expat.orig/xmlrole.c expat/xmlrole.c
--- expat.orig/xmlrole.c	2017-06-17 16:07:38.000000000 +0000
+++ expat/xmlrole.c	2017-06-25 17:09:30.000000000 +0000
@@ -4,7 +4,9 @@
 
 #include <stddef.h>
 
-#ifdef _WIN32
+#ifdef HARBOUR_CONF
+#include "_hbconf.h"
+#elif defined(_WIN32)
 #include "winconfig.h"
 #else
 #ifdef HAVE_EXPAT_CONFIG_H
diff --strip-trailing-cr -urN expat.orig/xmltok.c expat/xmltok.c
--- expat.orig/xmltok.c	2017-06-17 16:07:38.000000000 +0000
+++ expat/xmltok.c	2017-06-25 17:09:30.000000000 +0000
@@ -4,7 +4,9 @@
 
 #include <stddef.h>
 
-#ifdef _WIN32
+#ifdef HARBOUR_CONF
+#include "_hbconf.h"
+#elif defined(_WIN32)
 #include "winconfig.h"
 #else
 #ifdef HAVE_EXPAT_CONFIG_H
